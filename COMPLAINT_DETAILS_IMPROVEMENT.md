# ุชุญุณููุงุช ุตูุญุฉ ุชูุงุตูู ุงูุดููู

## ๐ฏ ุงููุฏู
ุชุญุณูู ุนุฑุถ ุชูุงุตูู ุงูุดููู ุงููุญุฏุฏุฉ ูู ุตูุญุฉ ุงูุชูุงุตูู ูุถูุงู ุฃู ุงููุณุชุฎุฏู ูุฑู ุงูุจูุงูุงุช ุงูุฎุงุตุฉ ุจุงูุดููู ุงููุญุฏุฏุฉ ููุท ุจุดูู ูุงุถุญ ูููุตู.

## ๐ ุงูุชุญุณููุงุช ุงูููุฌุฒุฉ

### 1. ุชุญุณูู ุงูุงูุชูุงู ูู ุงูุฅุดุนุงุฑุงุช

#### **ูู ููู `login/home.js`:**
```javascript
// ุฅุถุงูุฉ ุฑุณุงุฆู ุชุตุญูุญ ููุตูุฉ
console.log('ุงูุงูุชูุงู ูุชูุงุตูู ุงูุดููู ุฑูู:', id);

// ุฅุบูุงู ูุงูุฐุฉ ุงูุฅุดุนุงุฑุงุช
document.getElementById('notifModal').style.display = 'none';

// ุงูุงูุชูุงู ูุตูุญุฉ ุงูุชูุงุตูู ูุน ูุนุฑู ุงูุดููู ุงููุญุฏุฏุฉ
window.location.href = `/general complaints/details.html?id=${id}`;
```

### 2. ุชุญุณูู ุชุญููู ุงูุจูุงูุงุช

#### **ูู ููู `general complaints/details.js`:**
```javascript
// ุฅุธูุงุฑ ุฑุณุงูุฉ ุชุญููู
const complaintTitle = document.querySelector('.complaint-title');
if (complaintTitle) {
  complaintTitle.textContent = 'ุฌุงุฑู ุชุญููู ุชูุงุตูู ุงูุดููู...';
}

// ุชุญุฏูุซ ุนููุงู ุงูุตูุญุฉ
document.title = `ุชูุงุตูู ุงูุดููู ุฑูู #${complaintData.ComplaintID} - ูุธุงู ุงูุดูุงูู`;
```

### 3. ุชุญุณูู ุนุฑุถ ุงูุจูุงูุงุช

#### **ุฃ. ุชุญุณูู ุนููุงู ุงูุดููู:**
```javascript
const complaintNumber = String(complaintData.ComplaintID).padStart(6, '0');
const titleText = `ุชูุงุตูู ุงูุดููู ุฑูู #${complaintNumber}`;
complaintTitle.textContent = titleText;
console.log('ุชู ุชุญุฏูุซ ุนููุงู ุงูุดููู:', titleText);
```

#### **ุจ. ุชุญุณูู ุจูุงูุงุช ุงููุฑูุถ:**
```javascript
// ุงูุงุณู ุงููุงูู
const patientName = complaintData.PatientName || complaintData.FullName || 'ุบูุฑ ูุญุฏุฏ';
console.log('ุชู ุชุญุฏูุซ ุงูุงุณู:', patientName);

// ุฑูู ุงููููุฉ
const nationalId = complaintData.NationalID_Iqama || complaintData.NationalID || 'ุบูุฑ ูุญุฏุฏ';
console.log('ุชู ุชุญุฏูุซ ุฑูู ุงููููุฉ:', nationalId);

// ุฑูู ุงูููู ุงูุทุจู
const medicalFile = complaintData.NationalID_Iqama || complaintData.NationalID || 'ุบูุฑ ูุญุฏุฏ';
console.log('ุชู ุชุญุฏูุซ ุฑูู ุงูููู ุงูุทุจู:', medicalFile);

// ุฑูู ุงูุฌูุงู
const mobileNumber = complaintData.ContactNumber || complaintData.PhoneNumber || 'ุบูุฑ ูุญุฏุฏ';
console.log('ุชู ุชุญุฏูุซ ุฑูู ุงูุฌูุงู:', mobileNumber);
```

#### **ุฌ. ุชุญุณูู ุชูุงุตูู ุงูุดููู:**
```javascript
// ุงููุณู ุงููุฑุชุจุท
const departmentName = complaintData.DepartmentName || 'ุบูุฑ ูุญุฏุฏ';
console.log('ุชู ุชุญุฏูุซ ุงููุณู:', departmentName);

// ุชุงุฑูุฎ ุงูุฒูุงุฑุฉ
const fullVisitDateTime = `${formattedVisitDate}<br><small style="color: #666;">${formattedVisitTime}</small>`;
console.log('ุชู ุชุญุฏูุซ ุชุงุฑูุฎ ุงูุฒูุงุฑุฉ:', formattedVisitDate, formattedVisitTime);

// ููุน ุงูุดููู
const complaintType = complaintData.ComplaintTypeName || complaintData.TypeName || 'ุบูุฑ ูุญุฏุฏ';
console.log('ุชู ุชุญุฏูุซ ููุน ุงูุดููู:', complaintType);

// ุงูุดููู ุงููุฑุนูุฉ
const subType = complaintData.SubTypeName || complaintData.SubcategoryName || 'ุบูุฑ ูุญุฏุฏ';
console.log('ุชู ุชุญุฏูุซ ุงูุดููู ุงููุฑุนูุฉ:', subType);

// ุชูุงุตูู ุงูุดููู
const details = complaintData.ComplaintDetails || complaintData.Details || 'ูุง ุชูุฌุฏ ุชูุงุตูู';
console.log('ุชู ุชุญุฏูุซ ุชูุงุตูู ุงูุดููู:', details.substring(0, 50) + '...');
```

## ๐ง ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### 1. ุฑุณุงุฆู ุชุตุญูุญ ููุตูุฉ
- ุฅุถุงูุฉ ุฑุณุงุฆู console.log ููุตูุฉ ูุชุชุจุน ุนูููุฉ ุชุญููู ุงูุจูุงูุงุช
- ุชุณุฌูู ูู ุฎุทูุฉ ูู ุนูููุฉ ุชุญุฏูุซ ุงูุจูุงูุงุช
- ุชุณุฌูู ุงูููู ุงููุญุฏุซุฉ ููู ุญูู

### 2. ุฑุณุงุฆู ุชุญููู ูุงุถุญุฉ
- ุฅุธูุงุฑ ุฑุณุงูุฉ "ุฌุงุฑู ุชุญููู ุชูุงุตูู ุงูุดููู..." ุฃุซูุงุก ุงูุชุญููู
- ุชุญุฏูุซ ุนููุงู ุงูุตูุญุฉ ููุนูุณ ุฑูู ุงูุดููู ุงููุญุฏุฏุฉ
- ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ุฃุซูุงุก ุงูุงูุชุธุงุฑ

### 3. ูุนุงูุฌุฉ ุฃูุถู ููุจูุงูุงุช
- ุฏุนู ุฃุณูุงุก ูุชุนุฏุฏุฉ ููุญููู ูุถูุงู ุงูุชูุงูู
- ูุนุงูุฌุฉ ุงูููู ุงููุงุฑุบุฉ ุจุดูู ุฃูุถู
- ุนุฑุถ ุฑุณุงุฆู ูุงุถุญุฉ ูู ุญุงูุฉ ุนุฏู ูุฌูุฏ ุจูุงูุงุช

### 4. ุชูุณูู ูุญุณู ููุชูุงุฑูุฎ
- ุนุฑุถ ุงูุชุงุฑูุฎ ูุงูููุช ุจุชูุณูู ุนุฑุจู ูุงุถุญ
- ุชูุณูู ููุญุฏ ูุฌููุน ุงูุชูุงุฑูุฎ ูู ุงูุตูุญุฉ
- ุนุฑุถ ุงูููุช ุจุชูุณูู 12 ุณุงุนุฉ

## ๐ฑ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ูู ุงูุฅุดุนุงุฑุงุช:
1. ุงูุถุบุท ุนูู ุฒุฑ ุงูุฅุดุนุงุฑุงุช (ุงูุฌุฑุณ)
2. ุงุฎุชูุงุฑ ุดููู ูู ุงููุงุฆูุฉ
3. ุงูุถุบุท ุนูู ุฒุฑ "ุงูุชูุงุตูู"
4. ุงูุงูุชูุงู ุงูุชููุงุฆู ูุตูุญุฉ ุชูุงุตูู ุงูุดููู ุงููุญุฏุฏุฉ

### 2. ูู ุตูุญุฉ ุงูุชูุงุตูู:
- ุนุฑุถ ุนููุงู ูุงุถุญ ูุน ุฑูู ุงูุดููู
- ุนุฑุถ ุฌููุน ุจูุงูุงุช ุงููุฑูุถ
- ุนุฑุถ ุชูุงุตูู ุงูุดููู ุงููุงููุฉ
- ุนุฑุถ ุงููุฑููุงุช (ุฅู ูุฌุฏุช)
- ุนุฑุถ ุงูุฑุฏ ุนูู ุงูุดููู (ุฅู ูุฌุฏ)
- ุนุฑุถ ุณุฌู ุงูุชุงุฑูุฎ

## ๐จ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

### 1. ุฃุฎุทุงุก ุงูุชุญููู:
```javascript
if (!complaintData) {
  console.error('ูุง ุชูุฌุฏ ุจูุงูุงุช ุดููู ูุชุงุญุฉ');
  return;
}
```

### 2. ุฃุฎุทุงุก ุงูุงุชุตุงู:
```javascript
catch (error) {
  console.error('ุฎุทุฃ ูู ุงูุงุชุตุงู ุจุงูุฎุงุฏู:', error);
  alert('ุฎุทุฃ ูู ุงูุงุชุตุงู ุจุงูุฎุงุฏู: ' + error.message);
  goBack();
}
```

### 3. ุฃุฎุทุงุก ุงูุจูุงูุงุช:
```javascript
if (!data.success) {
  console.error('ูุดู ูู ุฌูุจ ุจูุงูุงุช ุงูุดููู:', data.message);
  alert('ุชุนุฐุฑ ุฌูุจ ุจูุงูุงุช ุงูุดููู: ' + (data.message || 'ุฎุทุฃ ุบูุฑ ูุนุฑูู'));
  goBack();
}
```

## ๐ API Endpoints ุงููุณุชุฎุฏูุฉ

### ุฌูุจ ุชูุงุตูู ุงูุดููู:
```
GET /api/complaints/details/:complaintId
```

### ุงูุงุณุชุฌุงุจุฉ ุงููุชููุนุฉ:
```json
{
  "success": true,
  "data": {
    "complaint": {
      "ComplaintID": 123,
      "ComplaintDate": "2024-01-01T10:00:00Z",
      "ComplaintDetails": "ุชูุงุตูู ุงูุดููู",
      "CurrentStatus": "ุฌุฏูุฏุฉ",
      "PatientName": "ุงุณู ุงููุฑูุถ",
      "NationalID_Iqama": "1234567890",
      "ContactNumber": "0501234567",
      "DepartmentName": "ูุณู ุงูุทูุงุฑุฆ",
      "ComplaintTypeName": "ุดููู ุทุจูุฉ",
      "SubTypeName": "ุดููู ุนูุงุฌ",
      "attachments": [...],
      "history": [...]
    }
  }
}
```

## ๐ ูุงุฆูุฉ ุงููููุงุช ุงููุญุฏุซุฉ

1. **`login/home.js`** - ุชุญุณูู ุงูุงูุชูุงู ูู ุงูุฅุดุนุงุฑุงุช
2. **`general complaints/details.js`** - ุชุญุณูู ุนุฑุถ ุชูุงุตูู ุงูุดููู

## โ ุงููุชุงุฆุฌ ุงููุชููุนุฉ

- ุนุฑุถ ุชูุงุตูู ุงูุดููู ุงููุญุฏุฏุฉ ููุท ุจุดูู ูุงุถุญ
- ุฑุณุงุฆู ุชุตุญูุญ ููุตูุฉ ูุชุชุจุน ุนูููุฉ ุงูุชุญููู
- ูุนุงูุฌุฉ ุฃูุถู ููุฃุฎุทุงุก ูุงูููู ุงููุงุฑุบุฉ
- ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณูุฉ ูุน ุฑุณุงุฆู ุชุญููู ูุงุถุญุฉ
- ุชูุณูู ูุญุณู ููุจูุงูุงุช ูุงูุชูุงุฑูุฎ
