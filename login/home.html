<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>الصفحة الرئيسية - الشكاوى</title>

  <!-- خط عربي: Tajawal -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap" rel="stylesheet">

  <!-- ملف التنسيقات -->
  <link rel="stylesheet" href="home.css">
</head>

<body>
  <header class="header">
    <div class="header-content">
      <div class="header-title" data-ar="عُــــــونَك" data-en="AOUNAK">عُــــــونَك</div>
      <img src="/icon/hospital-logo.png" alt="شعار المستشفى" class="header-logo">

      <!-- رابط الملف الشخصي -->
      <a href="/login/profile.html" class="profile-link">
        <img src="/icon/patient1.png" alt=" الملف الشخصي" class="profile-icon-small">
        <span>الملف الشخصي</span>
      </a>

      <!-- زر الإشعارات -->
      <button id="notifBtn" class="notif-btn" title="الإشعارات">
        <svg class="notif-icon" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M12 2c.7 0 1.25.56 1.25 1.25v.51A6.75 6.75 0 0 1 19 10.5v4.06l1.49 2.49c.3.5-.06 1.12-.64 1.12H4.15c-.58 0-.94-.62-.64-1.12L5 14.56V10.5A6.75 6.75 0 0 1 10.75 3.76v-.51C10.75 2.56 11.3 2 12 2zm0 20a2.75 2.75 0 0 1-2.62-2h5.24A2.75 2.75 0 0 1 12 22z"/>
        </svg>
        <span id="notifCount" class="notif-count" style="display:none;">0</span>
      </button>

      <!-- زر اللغة -->
      <button id="langToggle" class="lang-toggle-btn">
        <img src="/icon/lang.png" alt="language" class="lang-icon" />
        <span id="langText">العربية | English</span>
      </button>
    </div>
  </header>

  <main>
    <!-- البطاقات الرئيسية -->
    <section class="dashboard">
      <div class="card">
        <img src="/icon/plus.png" alt="تقديم شكوى">
        <h3>تقديم شكوى جديدة</h3>
        <p>قم بتسجيل شكوى طبية جديدة</p>
        <a href="/New complaint/Newcomplaint.html" class="btn">تقديم شكوى</a>
      </div>

      <div class="card">
        <img src="/icon/list.png" alt="متابعة الشكاوى">
        <h3>متابعة الشكاوى</h3>
        <p>تتبع حالة شكاواك المقدمة</p>
        <a href="/Complaints-followup/followup.html" class="btn">متابعة الشكاوي</a>
      </div>

      <div class="card">
        <img src="/icon/group.png" alt="الشكاوى العامة">
        <h3>الشكاوى العامة</h3>
        <p>استعراض الشكاوى العامة المقدمة</p>
        <a href="/general complaints/general-complaints.html" class="btn">استعراض</a>
      </div>

      <div class="card admin-only" style="display:none;">
        <img src="/icon/chart.png" alt="لوحة المعلومات">
        <h3>لوحة المعلومات</h3>
        <p>إحصائيات وتحليلات الشكاوى</p>
        <a href="/DashBoard/overview.html" class="btn">عرض التفاصيل</a>
      </div>

      <div class="card full-width admin-only" style="display:none;">
        <img src="/icon/admin.png" alt="لوحة تحكم المسؤول">
        <h3>لوحة تحكم المسؤول</h3>
        <p>إدارة النظام والمستخدمين والصلاحيات</p>
        <a href="/admin/admin.html" class="btn">الدخول للوحة التحكم</a>
      </div>
    </section>

 <!-- KPIs صغيرة فوق البطاقات (5 عناصر) -->
<section class="mini-kpis">
  <div class="mini-card"><div class="title">إجمالي الشكاوى</div><div class="value" id="kpiTotal">—</div></div>
  <div class="mini-card"><div class="title">المفتوحة الآن</div><div class="value" id="kpiOpen">—</div></div>
  <div class="mini-card"><div class="title">تم الرد (%)</div><div class="value" id="kpiResponded">—</div></div>
  <div class="mini-card"><div class="title">قريب الانتهاء</div><div class="value" id="kpiDueSoon">—</div></div>
  <div class="mini-card"><div class="title">متأخرة</div><div class="value" id="kpiLate">—</div></div>
</section>


   <!-- ملخص الشكاوى التفصيلي -->
<section class="list-card">
  <div class="table-title">ملخص الشكاوى</div>
  <table class="comp-table">
    <thead>
      <tr>
        <th>رقم الشكوى</th>
        <th>القسم</th>
        <th>الحالة</th>
        <th>النوع/النسبة</th>
        <th>تاريخ الإنشاء</th>
        <th>الموعد النهائي</th>
        <th>الوقت المتبقي</th>
      </tr>
    </thead>
    <tbody id="compBody">
      <tr><td colspan="7" style="text-align:center;color:#666;">—</td></tr>
    </tbody>
  </table>
</section>
  </main>

  <!-- نافذة الإشعارات -->
  <div id="notifModal" class="modal-overlay" style="display:none;">
    <div class="modal-content logos-modal">
      <div class="logos-modal-header">
        <h3>إشعارات الشكاوى الجديدة</h3>
        <button id="closeNotif" class="close-modal">×</button>
      </div>
      <div id="notifList" class="notif-list"></div>
    </div>
  </div>

  <!-- سكربت خارجي -->
  <script src="home.js"></script>
</body>
</html>
