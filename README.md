# نظام تتبع الطلبات والشكاوى - عونك

## 📋 نظرة عامة

نظام متكامل لإدارة وتتبع الطلبات والشكاوى في المستشفى، يوفر واجهة سهلة الاستخدام للموظفين والإدارة لمتابعة حالة الطلبات وإدارتها بكفاءة.

## 🚀 الميزات الرئيسية

### 👥 إدارة المستخدمين
- نظام صلاحيات متعدد المستويات (Super Admin, Admin, Employee)
- إدارة الموظفين والأقسام
- نظام تسجيل دخول آمن

### 📋 تتبع الطلبات
- عرض جميع الطلبات في جدول منظم
- إحصائيات فورية (إجمالي، معلق، عاجل، مكتمل)
- فلترة وبحث متقدم
- حساب المدة المتبقية تلقائياً

### 🔄 خط سير الشكاوى
- تتبع تفصيلي لمراحل معالجة كل شكوى
- عرض الموظف المسؤول عن كل مرحلة
- تاريخ وتوقيت كل إجراء

### 📤 تحويل الطلبات
- تحويل الشكاوى بين الأقسام
- اختيار الموظف المناسب من القسم المحدد
- إضافة ملاحظات للتحويل

### 🔔 نظام الإشعارات
- إشعارات فورية عند تحويل الطلبات
- عرض الإشعارات في لوحة التحكم
- تحديد الإشعار كمقروء

### 🌐 دعم متعدد اللغات
- العربية والإنجليزية
- تبديل سلس بين اللغات
- واجهة متجاوبة

## 🛠️ التقنيات المستخدمة

### Backend
- **Node.js** - بيئة تشغيل JavaScript
- **Express.js** - إطار عمل الويب
- **MySQL** - قاعدة البيانات
- **JWT** - مصادقة المستخدمين
- **bcryptjs** - تشفير كلمات المرور

### Frontend
- **HTML5** - هيكل الصفحات
- **CSS3** - التصميم والأنيميشن
- **JavaScript** - التفاعل والوظائف
- **Responsive Design** - تصميم متجاوب

## 📁 هيكل المشروع

```
3aon/
├── admin/                    # صفحات Admin
│   ├── admin.html           # لوحة تحكم Admin
│   ├── request-tracking.html # تتبع الطلبات
│   ├── employee-data.html   # بيانات الموظفين
│   ├── recycle-bin.html     # استرجاع البيانات
│   └── *.css, *.js         # ملفات التصميم والوظائف
├── superAdmin/              # صفحات Super Admin
│   ├── superAdmin.html      # لوحة تحكم Super Admin
│   ├── complaint-tracking.html
│   ├── logs.html           # السجلات
│   ├── permissions.html    # الصلاحيات
│   └── *.css, *.js
├── backend/                 # الخادم
│   ├── app.js              # التطبيق الرئيسي
│   ├── config/             # إعدادات قاعدة البيانات
│   ├── middleware/         # وسائط المصادقة
│   ├── routes/             # مسارات API
│   └── package.json
├── icon/                   # الأيقونات
├── setup_database.sql      # إعداد قاعدة البيانات
├── README_SETUP.md         # دليل الإعداد بالعربية
├── README_SETUP_EN.md      # دليل الإعداد بالإنجليزية
└── README.md              # هذا الملف
```

## 🚀 بدء الاستخدام

### المتطلبات
- Node.js (الإصدار 14 أو أحدث)
- MySQL Database
- npm أو yarn

### خطوات التثبيت

1. **إعداد قاعدة البيانات**
   ```bash
   mysql -u username -p database_name < setup_database.sql
   ```

2. **تشغيل الخادم**
   ```bash
   cd backend
   npm install
   npm start
   ```

3. **الوصول للتطبيق**
   ```
   http://localhost:3001/admin/request-tracking.html
   ```

## 📊 البيانات التجريبية

### الأقسام (12 قسم)
- قسم الطوارئ، الجراحة، الباطنية، الأطفال
- قسم النساء والولادة، الأشعة، المختبر
- قسم الصيدلة، التمريض، الإدارة
- قسم تقنية المعلومات، النظافة

### الموظفين (12 موظف)
- موزعين على الأقسام المختلفة
- أدوار مختلفة (Admin, Employee)

### الطلبات التجريبية (5 طلبات)
- أنواع مختلفة (طبية، إدارية، تقنية)
- حالات مختلفة (معلق، قيد المعالجة، مكتمل)

## 🔐 نظام الصلاحيات

| الدور | RoleID | الصلاحيات |
|-------|--------|-----------|
| Super Admin | 1 | جميع الصلاحيات |
| Admin | 2 | إدارة الطلبات والموظفين |
| Employee | 3 | عرض الطلبات فقط |

## 📱 الواجهات المتاحة

### Admin Dashboard
- تتبع الطلبات مع الإحصائيات
- إدارة بيانات الموظفين
- استرجاع البيانات المحذوفة
- نظام الإشعارات

### Super Admin Dashboard
- جميع ميزات Admin
- إدارة الصلاحيات
- السجلات التفصيلية
- إدارة النظام بالكامل

## 🔧 API Endpoints

### الطلبات
- `GET /api/admin/requests` - جلب جميع الطلبات
- `GET /api/admin/requests/stats` - إحصائيات الطلبات
- `POST /api/admin/requests/:id/transfer` - تحويل طلب

### الأقسام والموظفين
- `GET /api/admin/departments` - جلب الأقسام
- `GET /api/admin/departments/:id/employees` - موظفي القسم

### الإشعارات
- `GET /api/admin/notifications/unread` - الإشعارات غير المقروءة
- `PUT /api/admin/notifications/:id/mark-read` - تحديد كمقروء

## 🐛 استكشاف الأخطاء

### مشاكل شائعة
1. **الخادم لا يعمل**: تأكد من تشغيل `npm start` في مجلد backend
2. **لا تظهر البيانات**: تحقق من إعداد قاعدة البيانات
3. **خطأ في التحويل**: تأكد من وجود موظفين في الأقسام

### سجلات التصحيح
- Terminal: سجلات الخادم
- Browser Console (F12): أخطاء الواجهة
- Network Tab: طلبات API

## 📞 الدعم

للمساعدة أو الإبلاغ عن مشاكل:
1. تحقق من ملفات README_SETUP.md و README_SETUP_EN.md
2. راجع سجلات الخادم والمتصفح
3. تأكد من صحة إعدادات قاعدة البيانات

## 📄 الترخيص

هذا المشروع مخصص للاستخدام الداخلي في المستشفى.

---

**تم تطوير هذا النظام بواسطة فريق عونك** 🏥
