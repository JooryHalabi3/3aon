# ุชูุฑูุฑ ุดุงูู ูุฅุตูุงุญ ุฌููุน ุงููุดุงูู

## ๐ ุงููุดุงูู ุงููุญุฏุฏุฉ

### 1. ูุดููุฉ ููู CSS ููููุฏ
**ุงูุฎุทุฃ:** `Refused to apply style from 'http://127.0.0.1:5500/admin-pages/department-management.css' because its MIME type ('text/html') is not a supported stylesheet MIME type`

**ุงูุณุจุจ:** ููู `department-management.css` ุบูุฑ ููุฌูุฏ ูู ูุฌูุฏ `admin-pages`

**ุงูุญู:** โ ุชู ุฅูุดุงุก ุงูููู ูุน ุฌููุน ุงูุฃููุงุท ุงููุทููุจุฉ

### 2. ูุดููุฉ API Endpoints ุบูุฑ ููุฌูุฏุฉ
**ุงูุฎุทุฃ:** `Failed to load resource: the server responded with a status of 404 (Not Found)`

**ุงูู Endpoints ุงูููููุฏุฉ:**
- `/api/auth/me`
- `/api/admin/department/employees`
- `/api/admin/department/complaints`

**ุงูุณุจุจ:** ุงูุฎุงุฏู ุงูุฎููู (Backend) ุบูุฑ ูุดุบู ุนูู ุงููููุฐ 3001

**ุงูุญู:** โ ุชู ุชุดุบูู ุงูุฎุงุฏู ูู ุงูุฎูููุฉ

### 3. ูุดููุฉ ุฏูุฑ ุงููุณุชุฎุฏู
**ุงูุฎุทุฃ:** `Error checking admin permissions: Error: Failed to get user info`

**ุงูุณุจุจ:** ุงููุณุชุฎุฏู ุงูุญุงูู ูู `RoleID = 2` (ููุธู ุนุงุฏู) ุจูููุง ุงูุตูุญุฉ ุชุชุทูุจ `RoleID = 1` (ุณูุจุฑ ุฃุฏูู) ุฃู `RoleID = 3` (ุฃุฏูู)

**ุงูุญู:** โ ุชู ุฅูุดุงุก ุณูุฑูุจุชุงุช SQL ูุชุญุฏูุซ ุฏูุฑ ุงููุณุชุฎุฏู

## โ ุงูุญููู ุงููุทุจูุฉ

### 1. ุฅูุดุงุก ููู CSS
```css
/* ุชู ุฅูุดุงุก admin-pages/department-management.css */
/* ูุญุชูู ุนูู ุฌููุน ุงูุฃููุงุท ุงููุทููุจุฉ ููุตูุญุฉ */
```

### 2. ุชุดุบูู ุงูุฎุงุฏู ุงูุฎููู
```bash
cd backend && npm start
```

### 3. ุชุญุฏูุซ ูุญุต ุงูุตูุงุญูุงุช
ุชู ุชุนุฏูู **4 ูููุงุช** ูุชุณูุญ ููุณูุจุฑ ุฃุฏูู ูุงูุฃุฏูู ุจุงููุตูู:

- `admin-pages/department-management.js`
- `admin-pages/logs.js`
- `admin-pages/department-summary.js`
- `admin-pages/admin.js`

### 4. ุฅูุดุงุก ุณูุฑูุจุชุงุช SQL
- `fix_user_role.sql` - ุชุญุฏูุซ ุฏูุฑ ุงููุณุชุฎุฏู
- `check_current_user.sql` - ูุญุต ุงููุณุชุฎุฏู ุงูุญุงูู

## ๐งช ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ

### ุงูุฎุทูุฉ 1: ุชุดุบูู ุงูุฎุงุฏู
```bash
cd backend
npm start
```

### ุงูุฎุทูุฉ 2: ุชุญุฏูุซ ุฏูุฑ ุงููุณุชุฎุฏู
```sql
-- ุชุดุบูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
mysql -u root -p aounak < fix_user_role.sql
```

### ุงูุฎุทูุฉ 3: ุงุฎุชุจุงุฑ ุงููุตูู
1. **ุชุณุฌูู ุฏุฎูู** ุจุงููุณุชุฎุฏู ุงููุญุฏุซ
2. **ุงูุฐูุงุจ ูุตูุญุฉ** `admin-pages/department-management.html`
3. **ุงูุชุฃูุฏ ูู ุนุฏู ุธููุฑ** ุฑุณุงุฆู ุงูุฎุทุฃ

## ๐ ุจูุงูุงุช ุชุณุฌูู ุงูุฏุฎูู ููุงุฎุชุจุงุฑ

### ูููุณุชุฎุฏู ุงููุญุฏุซ ูุณูุจุฑ ุฃุฏูู:
- **Username**: 1333
- **Password**: (ูููุฉ ุงููุฑูุฑ ุงูุญุงููุฉ)
- **RoleID**: 1 (ุณูุจุฑ ุฃุฏูู)

### ูููุณุชุฎุฏู ุงููุญุฏุซ ูุฃุฏูู:
- **Username**: 11
- **Password**: (ูููุฉ ุงููุฑูุฑ ุงูุญุงููุฉ)
- **RoleID**: 3 (ุฃุฏูู)

### ูููุณุชุฎุฏููู ุงูุฌุฏุฏ:
- **Username**: admin1
- **Password**: (ููุณ ูููุฉ ุงููุฑูุฑ)
- **RoleID**: 3 (ุฃุฏูู)

## ๐ง ุงููููุงุช ุงููุฑููุฉ

1. **`admin-pages/department-management.css`** - ููู ุงูุฃููุงุท ุงูุฌุฏูุฏ
2. **`fix_user_role.sql`** - ุณูุฑูุจุช ุฅุตูุงุญ ุฏูุฑ ุงููุณุชุฎุฏู
3. **`check_current_user.sql`** - ุณูุฑูุจุช ูุญุต ุงููุณุชุฎุฏู ุงูุญุงูู
4. **`USER_ROLE_FIX_REPORT.md`** - ุชูุฑูุฑ ุฅุตูุงุญ ุฏูุฑ ุงููุณุชุฎุฏู
5. **`ADMIN_ACCESS_FIX.md`** - ุชูุฑูุฑ ุฅุตูุงุญ ุงููุตูู ููุฃุฏูู

## ๐ฏ ุงููุชูุฌุฉ ุงููุชููุนุฉ

ุจุนุฏ ุชุทุจูู ุฌููุน ุงูุฅุตูุงุญุงุช:
- โ ููู CSS ูุนูู ุจุดูู ุตุญูุญ
- โ ุงูุฎุงุฏู ุงูุฎููู ูุนูู ุนูู ุงููููุฐ 3001
- โ API endpoints ูุชุงุญุฉ
- โ ุงููุณุชุฎุฏู "ูุญููุฏ" ููููู ุงููุตูู ูุณูุจุฑ ุฃุฏูู
- โ ุงููุณุชุฎุฏู "ูุญููุฏ ุญุงูุฏ" ููููู ุงููุตูู ูุฃุฏูู
- โ ุงููุณุชุฎุฏููู ุงูุฌุฏุฏ ูููููู ุงููุตูู ูุฃุฏูู
- โ ุตูุญุฉ ุฅุฏุงุฑุฉ ุงููุณู ุชุนูู ุจุดูู ุตุญูุญ
- โ ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู Console

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

1. **ุชุฃูุฏ ูู ุชุดุบูู ุงูุฎุงุฏู** ุนูู ุงููููุฐ 3001
2. **ุชุทุจูู ุณูุฑูุจุช ุงูุฅุตูุงุญ** ูุชุญุฏูุซ ุงูุฃุฏูุงุฑ
3. **ุงุฎุชุจุงุฑ ุงููุตูู** ููุตูุญุฉ
4. **ุงูุชุฃูุฏ ูู ุนูู** ุฌููุน ูุธุงุฆู ุงูุตูุญุฉ
5. **ูุญุต Console** ููุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก

## ๐ ูู ุญุงูุฉ ุงุณุชูุฑุงุฑ ุงููุดุงูู

ุฅุฐุง ุงุณุชูุฑุช ุงููุดุงูู:
1. **ุชุญูู ูู ุชุดุบูู ุงูุฎุงุฏู** ุนูู `http://localhost:3001/health`
2. **ุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช** ุจุงุณุชุฎุฏุงู `check_current_user.sql`
3. **ุชุญูู ูู Console** ููุฃุฎุทุงุก ุงูุฌุฏูุฏุฉ
4. **ุชุฃูุฏ ูู ุตุญุฉ ุงูุชููู** ูู localStorage
